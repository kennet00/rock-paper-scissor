<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Rock Paper Scissors</title>
	</head>
	<body>
		<script>
			//random generator for computers choice
			let computerSelection = () => {
				let i = Math.floor(Math.random() * 3);
				if (i == 0) {
					return "rock";
				} else if (i == 1) {
					return "paper";
				} else {
					return "scissors";
				}
			};

			//compares players choice and computer choice and determines winner
			let playRound = (player, computer) => {
				if (player == "rock" && computer == "paper") {
					return `computer chose paper. \nyou lose! Paper beats rock!`;
				} else if (player == "rock" && computer == "rock") {
					return `computer chose rock. \nyou tie!`;
				} else if (player == "rock" && computer == "scissors") {
					return "computer chose scissors. \nyou win! rock beats scissors!";
				} else if (player == "paper" && computer == "paper") {
					return "computer chose paper. \nyou tie!";
				} else if (player == "paper" && computer == "rock") {
					return "computer chose rock \nyou win! Paper beats rock!";
				} else if (player == "paper" && computer == "scissors") {
					return "computer chose scissors. \nyou lose! scissors beats paper!";
				} else if (player == "scissors" && computer == "paper") {
					return "computer chose paper. \nyou win! scissors beats paper!";
				} else if (player == "scissors" && computer == "rock") {
					return "computer chose rock \nyou lose! rock beats scissors!";
				} else if (player == "scissors" && computer == "scissors") {
					return "computer chose scissors. \nyou tie!";
				}
			};

			//plays the game best out of five and determines overall winner
			let game = () => {
				let playerWinCount = 0;
				let ties = 0;
				let computerWinCount = 0;

				//loops game five times
				for (let i = 0; i < 5; i++) {
					playerSelection = prompt(
						"choose rock, paper, scissors",
						"rock"
					).toLowerCase();
					let result = playRound(playerSelection, computerSelection());

					//if a different input is entered, displays message and restarts the function
					if (result == undefined || null) {
						console.log("pick ROCK PAPER OR SCISSORS NOOB");
						game();
					} else {
						console.log(result);
					}

					//counts number of wins
					if (result.includes("win")) {
						playerWinCount++;
					} else if (result.includes("tie")) {
						ties++;
					} else {
						computerWinCount++;
					}
				}

				//outputs wins
				console.log(`player wins: ${playerWinCount}`);
				console.log(`computer wins: ${computerWinCount}`);
				console.log(`ties: ${ties}`);

				if (playerWinCount > computerWinCount) {
					console.log("PLAYER WIN");
				} else if (playerWinCount < computerWinCount) {
					console.log("COMPUTER WIN");
				} else {
					console.log("TIE");
				}
			};
			game();
		</script>
	</body>
</html>
